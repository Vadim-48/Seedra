import{b as h,a as g}from"./burger-accordion-fsrTvoOq.js";import{d as _,g as x,a as w,b as q,c as m,e as v}from"./firebase-B9QMLE2k.js";async function B(){const r=_(w,"products","main"),o=await x(r);if(!o.exists())return;const t=o.data();document.getElementById("hero-title").innerHTML=t.name,document.getElementById("hero-price").textContent=`$${t.price.toFixed(2)}`;const e=document.getElementById("hero-old-price");t.oldPrice?e.textContent=`$${t.oldPrice.toFixed(2)}`:e.style.display="none",document.getElementById("hero-image").src=t.photo}let n=null,s=null;const S=window.matchMedia("(max-width: 576px)"),C=()=>{n=new Swiper(".products .swiper",{slidesPerView:1.1,spaceBetween:20,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,breakpoints:{400:{slidesPerView:1.3},470:{slidesPerView:1.5}}})},k=()=>{s=new Swiper(".blog-preview .swiper",{slidesPerView:1.1,spaceBetween:20,loop:!0,observer:!0,observeParents:!0,watchOverflow:!0,breakpoints:{450:{slidesPerView:1.3}}})},E=()=>{n?.destroy(!0,!0),s?.destroy(!0,!0),n=null,s=null},u=()=>{window.Swiper&&(S.matches?(!n&&document.querySelector(".products .swiper")&&C(),!s&&document.querySelector(".blog-preview .swiper")&&k()):E())},V=()=>{u(),S.addEventListener("change",u)},M=()=>{new Swiper(".feedback .swiper",{slidesPerView:1.15,spaceBetween:15,centeredSlides:!1,loop:!0,breakpoints:{575:{slidesPerView:1.5,spaceBetween:20,centeredSlides:!0},700:{slidesPerView:2,spaceBetween:20,centeredSlides:!0},1e3:{slidesPerView:2.6,spaceBetween:30,centeredSlides:!0}},pagination:{el:".swiper-pagination",clickable:!0}})};console.log("Firebase ready",q);document.addEventListener("DOMContentLoaded",async()=>{await B(),V(),M(),h(),g()});const L=await m(v(w,"products")),f={};L.forEach(r=>{f[r.id]=r.data()});const i=(r,o)=>{const t=document.querySelector(`[data-card-id="${r}"]`),e=f[o];console.log("productsMap: ",e);const d=t.querySelector(".card__rating-comments"),a=t.querySelector(".card__title"),l=t.querySelector(".card__photo img"),p=t.querySelector(".card__price"),P=t.querySelector(".card__old-price"),b=t.querySelector(".card__fire-price");e.reviewsNumber!=null&&(d.textContent="("+e.reviewsNumber+")"),e.name&&(a.textContent=e.name),e.price!=null&&(p.textContent=e.price),e.photo&&(l.src=e.photo),e.firePrice&&(b.style.display="block"),e.oldPrice!=null&&(P.textContent=e.oldPrice)};i("card-1","product-1");i("card-2","product-2");i("card-3","product-3");i("card-4","product-4");i("card-5","product-5");i("card-6","product-6");const $=await m(v(w,"reviews")),y={};$.forEach(r=>{y[r.id]=r.data()});const c=(r,o)=>{const t=document.querySelector(`[data-card-id="${r}"]`),e=y[o];console.log("reviewsMap: ",e);const d=t.querySelector(".card-review__date"),a=t.querySelector(".card-review__name"),l=t.querySelector(".card-review__photo img"),p=t.querySelector(".card-review__text");e.date&&(d.textContent=e.date),e.name&&(a.textContent=e.name),e.photo&&(l.src=e.photo),e.text&&(p.textContent=e.text)};c("card-review-1","review-1");c("card-review-2","review-2");c("card-review-3","review-3");c("card-review-4","review-1");c("card-review-5","review-2");
